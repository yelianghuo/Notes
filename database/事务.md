事务
一个数据库事务通常包含对数据库进行读或写的一个操作序列，具有以下特性。
* 原子性
* 一致性
* 隔离性
* 持久性

事务：隔离性
数据库的锁机制决定了事务的隔离性，隔离性越高，数据库的并发性能越差

* 提交读（read commited）：只能读取到已经提交的数据，解决了脏读，未解决不可重复读。这里的不可重复读是指：在A事务的一系列操作中，有两次读取某一行操作，但是在两次读取该行操作间，由于A事务释放了行级共享读锁，因此B事务可以获取行级排他锁，然后修改了该行数据；从而导致A事务中，两次读取该行得到的数据不一致，导致额不可重复读现象
* 可重复读（repeated read）：事务在读取某数据的瞬间（就是开始读取的瞬间），必须先对其加 行级共享锁，直到事务结束才释放；事务在更新某数据的瞬间（就是发生更新的瞬间），必须先对其加 行级排他锁，直到事务结束才释放。但是对于表级数据的查询，比如说，查询当前表的数量，由于未进行表锁，因此允许其他事物插入新数据，因此导致存在幻读的情况。


1）脏读（Dirty Reads）：所谓脏读就是对脏数据（Drity Data）的读取，而脏数据所指的就是未提交的数据。也就是说，一个事务正在对一条记录做修改，在这个事务完成并提交之前，这条数据是处于待定状态的（可能提交也可能回滚），这时，第二个事务来读取这条没有提交的数据，并据此做进一步的处理，就会产生未提交的数据依赖关系。这种现象被称为脏读。
2）不可重复读（Non-Repeatable Reads）：一个事务先后读取同一条记录，但两次读取的数据不同，我们称之为不可重复读。也就是说，这个事务在两次读取之间该数据被其它事务所修改。
3）幻读（Phantom Reads）：一个事务按相同的查询条件重新读取以前检索过的数据，却发现其他事务插入了满足其查询条件的新数据，这种现象就称为幻读。

参考：https://www.hollischuang.com/archives/943


查看数据库的隔离级别：https://blog.csdn.net/joe_007/article/details/7014381

行锁：http://www.hollischuang.com/archives/923